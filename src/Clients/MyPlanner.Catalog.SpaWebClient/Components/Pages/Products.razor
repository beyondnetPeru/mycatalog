@page "/products"  
@using Microsoft.AspNetCore.Components.Forms

<h3>Product List</h3>
<br />

<div class="container-fluid text-center">
    <div class="row w-50">
        @foreach(var currency in Enum.GetValues(typeof(CurrencyEnum)))
        {
            <div class="col">
                <button class="btn btn-primary" @onclick="() => FilterByCurrency((CurrencyEnum)currency)">
                    @currency
                </button>
            </div>
        }
    </div>
</div>

<br />

<ul>
    @foreach (var product in products)
    {
        <li>@product.Name is 
            <span style="color: @((product.Status == 1 ? "green": "red"))">
                @(product.Status == 1 ? "active" : "inactive")  
            </span>
            &nbsp;
            <a href="/products/@product.Id" class="btn btn-link" >Edit</a>
       </li>
    }
</ul>

@code {

  

    private List<Models.Product> products = ProductsRepository.GetProducts().ToList();

    private void FilterByCurrency(CurrencyEnum currency)
    {
        products = ProductsRepository.GetProducts().Where(p => p.CurrencyValue == currency).ToList();
    }
}
